import{_ as M,r as _,a as E,M as m,E as P,N as S,o as F,c as T,b as I,u as L,I as b}from"./index-DtJh_vze.js";const q=["stroke"],p=1755,z={__name:"LoaderSpinner",props:["classes","three"],setup(r){const i=_(null);let l=null;const w=[.15,.11,.08,.22,.44].map(e=>p*e),C=[100,50,50,180,360],f=[e=>u(50,100,50,100-e),e=>u(50,0,50-e,e),e=>u(0,50,e,50),e=>v(50,26.5,23.5,23.5,Math.PI/2,e),e=>v(50,50,47,47,-Math.PI/2,e)];async function u(e,n,s,a){const t=await o();t.beginPath(),t.moveTo(e,n),t.lineTo(s,a),t.stroke()}async function v(e,n,s,a,t,d){const c=await o();c.beginPath(),c.ellipse(e,n,s,a,t,0,-Math.PI/180*d,!0),c.stroke()}async function g(){for(;!i.value||!i.value.getContext("2d");)await new Promise(e=>setTimeout(e,50));return i.value}async function o(){const n=(await g()).getContext("2d");if(!n)throw new Error("Failed to get 2D context");return n}async function h(e){const n=await o();l||(l=e);const s=e-l;n.clearRect(0,0,100,100);let a=0;for(let t=0;t<f.length;t++){const d=a,c=a+w[t],y=Math.min(Math.max((s-d)/w[t],0),1),k=C[t]*y;await f[t](k),a=c}s<p||(l=null),requestAnimationFrame(h)}const x=async()=>{const e=await o();e.strokeStyle=m.themeColor};return E(async()=>{await g();const e=await o();e.lineWidth=7,e.strokeStyle=m.themeColor,requestAnimationFrame(h),window.addEventListener("themechange",x)}),P(()=>{window.removeEventListener("themechange",x)}),S(()=>m.themeColor,async e=>{const n=await o();n.strokeStyle=e}),(e,n)=>{var s,a,t;return F(),T("div",{class:b(["spinner-container",{vertical:(s=r.classes)==null?void 0:s.vertical,horizontal:(a=r.classes)==null?void 0:a.horizontal,iframe:(t=r.classes)==null?void 0:t.iframe,"one-of-three":r.three}])},[I("canvas",{class:"spinner-canvas icon",ref_key:"spinnerCanvas",ref:i,id:"spinnerCanvas",width:"100",height:"100",stroke:L(m).themeColor},null,8,q)],2)}}},B=M(z,[["__scopeId","data-v-91e7189e"]]);export{B as default};
