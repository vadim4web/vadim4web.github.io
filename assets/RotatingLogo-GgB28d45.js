const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/gltfLoader-CupwwCPy.js","assets/three-BcayzK72.js","assets/dracoLoader-DXtg0tJ7.js"])))=>i.map(i=>d[i]);
import{r as b,p as z,a as A,q as P,o as k,c as x,n as O,j as _}from"./index-Bel2ytVw.js";import{ac as F,ad as I,ae as G,z as j,af as B,p as $}from"./three-BcayzK72.js";const f="/model/",V="logo.glb",W={__name:"RotatingLogo",props:{noRotation:Boolean,noShadow:Boolean,size:Number},setup(i){let n=null,s=null,v=null,d=g(),u,m,l,o,t;const c={},L=new F,h=b(null),E=z(()=>i.noShadow?"":`filter: drop-shadow(0 0 1rem var(--accent0));
			-webkit-filter: drop-shadow(0 0 1rem var(--accent0));`);function g(){return getComputedStyle(document.documentElement).getPropertyValue("--is-dark").trim()==="1"?"dark":"light"}function R(){const e=new I;c.light=e.load(`${f}texture-silver.jpg `.repeat(6).split(" ")),c.dark=e.load(`${f}texture-gold.jpg `.repeat(6).split(" "))}function D(){l=new G,o=new j(76.5,1,1.5,1e3),o.position.set(0,0,5),t=new B({antialias:!0,alpha:!0}),t.setPixelRatio(window.devicePixelRatio),t.autoClear=!1,t.shadowMap.enabled=!1,t.physicallyCorrectLights=!1,h.value.appendChild(t.domElement),p()}async function S(){if(!u||!m){const{GLTFLoader:r}=await _(async()=>{const{GLTFLoader:w}=await import("./gltfLoader-CupwwCPy.js");return{GLTFLoader:w}},__vite__mapDeps([0,1])),{DRACOLoader:T}=await _(async()=>{const{DRACOLoader:w}=await import("./dracoLoader-DXtg0tJ7.js");return{DRACOLoader:w}},__vite__mapDeps([2,1]));u=r,m=T}const e=new u,a=new m;a.setDecoderPath("https://www.gstatic.com/draco/versioned/decoders/1.5.7/"),e.setDRACOLoader(a),e.load(`${f}${V}`,r=>{n=r.scene,M(d),l.add(n)},void 0,r=>console.error("Error loading model:",r))}function p(){let e;i.size?e=i.size:e=Math.min(window.innerWidth,window.innerHeight)*1.5,t.setSize(e,e),o.aspect=1,o.updateProjectionMatrix()}function M(e){!n||!c[e]||n.traverse(a=>{a.isMesh&&(a.material=new $({metalness:1,roughness:.1,envMap:c[e],envMapIntensity:1}))})}function y(){const e=new MutationObserver(()=>{const a=g();a!==d&&(d=a,M(d))});return e.observe(document.documentElement,{attributes:!0}),e}function C(){const e=L.getDelta();n&&(n.rotation.x=Math.PI/2,i.noRotation||(n.rotation.z+=e*.5)),t.clear(),t.render(l,o),v=requestAnimationFrame(C)}return A(()=>{R(),D(),S(),window.addEventListener("resize",p),s=y(),L.start(),C()}),P(()=>{window.removeEventListener("resize",p),s==null||s.disconnect(),cancelAnimationFrame(v),t.dispose(),l.clear()}),(e,a)=>(k(),x("div",{ref_key:"canvasContainer",ref:h,class:"abs",style:O(E.value)},null,4))}};export{W as _};
